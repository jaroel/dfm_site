import{$ as l,f as h,h as P,j as D,c as N,k as R}from"./web.1b871934.js";const S=Symbol("store-raw"),u=Symbol("store-node"),K=Symbol("store-name");function j(e,n){let t=e[l];if(!t&&(Object.defineProperty(e,l,{value:t=new Proxy(e,z)}),!Array.isArray(e))){const o=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,f=o.length;s<f;s++){const i=o[s];if(r[i].get){const c=r[i].get.bind(t);Object.defineProperty(e,i,{get:c})}}}return t}function y(e){let n;return e!=null&&typeof e=="object"&&(e[l]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function d(e,n=new Set){let t,o,r,s;if(t=e!=null&&e[S])return t;if(!y(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let f=0,i=e.length;f<i;f++)r=e[f],(o=d(r,n))!==r&&(e[f]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const f=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let c=0,A=f.length;c<A;c++)s=f[c],!i[s].get&&(r=e[s],(o=d(r,n))!==r&&(e[s]=o))}return e}function g(e){let n=e[u];return n||Object.defineProperty(e,u,{value:n={}}),n}function w(e,n,t){return e[n]||(e[n]=k(t))}function E(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===l||n===u||n===K||(delete t.value,delete t.writable,t.get=()=>e[l][n]),t}function $(e){if(P()){const n=g(e);(n._||(n._=k()))()}}function T(e){return $(e),Reflect.ownKeys(e)}function k(e){const[n,t]=N(e,{equals:!1,internal:!0});return n.$=t,n}const z={get(e,n,t){if(n===S)return e;if(n===l)return t;if(n===h)return $(e),t;const o=g(e),r=o.hasOwnProperty(n);let s=r?o[n]():e[n];if(n===u||n==="__proto__")return s;if(!r){const f=Object.getOwnPropertyDescriptor(e,n);P()&&(typeof s!="function"||e.hasOwnProperty(n))&&!(f&&f.get)&&(s=w(o,n,s)())}return y(s)?j(s):s},has(e,n){if(n===S||n===l||n===h||n===u||n==="__proto__")return!0;const t=g(e)[n];return t&&t(),n in e},set(){return!0},deleteProperty(){return!0},ownKeys:T,getOwnPropertyDescriptor:E};function O(e,n,t,o=!1){if(!o&&e[n]===t)return;const r=e[n],s=e.length;t===void 0?delete e[n]:e[n]=t;let f=g(e),i;(i=w(f,n,r))&&i.$(()=>t),Array.isArray(e)&&e.length!==s&&(i=w(f,"length",s))&&i.$(e.length),(i=f._)&&i.$()}function p(e,n){const t=Object.keys(n);for(let o=0;o<t.length;o+=1){const r=t[o];O(e,r,n[r])}}function F(e,n){if(typeof n=="function"&&(n=n(e)),n=d(n),Array.isArray(n)){if(e===n)return;let t=0,o=n.length;for(;t<o;t++){const r=n[t];e[t]!==r&&O(e,t,r)}O(e,"length",o)}else p(e,n)}function a(e,n,t=[]){let o,r=e;if(n.length>1){o=n.shift();const f=typeof o,i=Array.isArray(e);if(Array.isArray(o)){for(let c=0;c<o.length;c++)a(e,[o[c]].concat(n),t);return}else if(i&&f==="function"){for(let c=0;c<e.length;c++)o(e[c],c)&&a(e,[c].concat(n),t);return}else if(i&&f==="object"){const{from:c=0,to:A=e.length-1,by:_=1}=o;for(let b=c;b<=A;b+=_)a(e,[b].concat(n),t);return}else if(n.length>1){a(e[o],n,[o].concat(t));return}r=e[o],t=[o].concat(t)}let s=n[0];typeof s=="function"&&(s=s(r,t),s===r)||o===void 0&&s==null||(s=d(s),o===void 0||y(r)&&y(s)&&!Array.isArray(s)?p(r,s):O(e,o,s))}function J(...[e,n]){const t=d(e||{}),o=Array.isArray(t),r=j(t);function s(...f){D(()=>{o&&f.length===1?F(t,f[0]):a(t,f)})}return[r,s]}function W(e){const[n,t]=J(e);return sessionStorage.appstate&&t(JSON.parse(sessionStorage.appstate)),R(()=>sessionStorage.appstate=JSON.stringify(n)),[n,t]}const[C,L]=W({video:!1});export{C as a,L as s};
