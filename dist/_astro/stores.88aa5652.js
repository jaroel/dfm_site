import{$ as O,h as U,i as C,j as X,b as Y,o as B}from"./solid.c1acdf5c.js";let D=0,z=[];function G(){return D+=1,()=>{if(D-=1,D===0){let e=z;z=[];for(let n of e)n()}}}let p=Symbol(),H=(e,n,l,s)=>{let i={...e};i.set=(...o)=>{e[p]=n,e.set(...o),delete e[p]},e.setKey&&(i.setKey=(...o)=>{e[p]=n,e.setKey(...o),delete e[p]});let t=l(i,...s);if(t instanceof Promise){let o=G();return t.finally(o)}return t},F=(e,n,l)=>(...s)=>H(e,n,l,s),A=[],E=e=>{let n,l=[],s={lc:0,value:e,set(i){s.value=i,s.notify()},get(){return s.lc||s.listen(()=>{})(),s.value},notify(i){n=l;let t=!A.length;for(let o=0;o<n.length;o++)A.push(n[o],s.value,i);if(t){for(let o=0;o<A.length;o+=3)A[o](A[o+1],A[o+2]);A.length=0}},listen(i){return l===n&&(l=l.slice()),s.lc=l.push(i),()=>{l===n&&(l=l.slice());let t=l.indexOf(i);~t&&(l.splice(t,1),s.lc--)}},subscribe(i){let t=s.listen(i);return i(s.value),t},off(){}};return s};const K=Symbol("store-raw"),_=Symbol("store-node"),J=Symbol("store-name");function I(e,n){let l=e[O];if(!l&&(Object.defineProperty(e,O,{value:l=new Proxy(e,k)}),!Array.isArray(e))){const s=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let t=0,o=s.length;t<o;t++){const u=s[t];i[u].get&&Object.defineProperty(e,u,{enumerable:i[u].enumerable,get:i[u].get.bind(l)})}}return l}function b(e){let n;return e!=null&&typeof e=="object"&&(e[O]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function w(e,n=new Set){let l,s,i,t;if(l=e!=null&&e[K])return l;if(!b(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let o=0,u=e.length;o<u;o++)i=e[o],(s=w(i,n))!==i&&(e[o]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const o=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let r=0,f=o.length;r<f;r++)t=o[r],!u[t].get&&(i=e[t],(s=w(i,n))!==i&&(e[t]=s))}return e}function M(e){let n=e[_];return n||Object.defineProperty(e,_,{value:n={}}),n}function R(e,n,l){return e[n]||(e[n]=W(l))}function Z(e,n){const l=Reflect.getOwnPropertyDescriptor(e,n);return!l||l.get||!l.configurable||n===O||n===_||n===J||(delete l.value,delete l.writable,l.get=()=>e[O][n]),l}function Q(e){if(C()){const n=M(e);(n._||(n._=W()))()}}function x(e){return Q(e),Reflect.ownKeys(e)}function W(e){const[n,l]=Y(e,{equals:!1,internal:!0});return n.$=l,n}const k={get(e,n,l){if(n===K)return e;if(n===O)return l;if(n===U)return Q(e),l;const s=M(e),i=s.hasOwnProperty(n);let t=i?s[n]():e[n];if(n===_||n==="__proto__")return t;if(!i){const o=Object.getOwnPropertyDescriptor(e,n);C()&&(typeof t!="function"||e.hasOwnProperty(n))&&!(o&&o.get)&&(t=R(s,n,t)())}return b(t)?I(t):t},has(e,n){return n===K||n===O||n===U||n===_||n==="__proto__"?!0:(this.get(e,n,e),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:x,getOwnPropertyDescriptor:Z};function a(e,n,l,s=!1){if(!s&&e[n]===l)return;const i=e[n],t=e.length;l===void 0?delete e[n]:e[n]=l;let o=M(e),u;(u=R(o,n,i))&&u.$(()=>l),Array.isArray(e)&&e.length!==t&&(u=R(o,"length",t))&&u.$(e.length),(u=o._)&&u.$()}function q(e,n){const l=Object.keys(n);for(let s=0;s<l.length;s+=1){const i=l[s];a(e,i,n[i])}}function m(e,n){if(typeof n=="function"&&(n=n(e)),n=w(n),Array.isArray(n)){if(e===n)return;let l=0,s=n.length;for(;l<s;l++){const i=n[l];e[l]!==i&&a(e,l,i)}a(e,"length",s)}else q(e,n)}function j(e,n,l=[]){let s,i=e;if(n.length>1){s=n.shift();const o=typeof s,u=Array.isArray(e);if(Array.isArray(s)){for(let r=0;r<s.length;r++)j(e,[s[r]].concat(n),l);return}else if(u&&o==="function"){for(let r=0;r<e.length;r++)s(e[r],r)&&j(e,[r].concat(n),l);return}else if(u&&o==="object"){const{from:r=0,to:f=e.length-1,by:c=1}=s;for(let d=r;d<=f;d+=c)j(e,[d].concat(n),l);return}else if(n.length>1){j(e[s],n,[s].concat(l));return}i=e[s],l=[s].concat(l)}let t=n[0];typeof t=="function"&&(t=t(i,l),t===i)||s===void 0&&t==null||(t=w(t),s===void 0||b(i)&&b(t)&&!Array.isArray(t)?q(i,t):a(e,s,t))}function ee(...[e,n]){const l=w(e||{}),s=Array.isArray(l),i=I(l);function t(...o){X(()=>{s&&o.length===1?m(l,o[0]):j(l,o)})}return[i,t]}const N=Symbol("store-root");function P(e,n,l,s,i){const t=n[l];if(e===t)return;if(!b(e)||!b(t)||i&&e[i]!==t[i]){if(e!==t){if(l===N)return e;a(n,l,e)}return}if(Array.isArray(e)){if(e.length&&t.length&&(!s||i&&e[0]&&e[0][i]!=null)){let r,f,c,d,h,y,v,S;for(c=0,d=Math.min(t.length,e.length);c<d&&(t[c]===e[c]||i&&t[c]&&e[c]&&t[c][i]===e[c][i]);c++)P(e[c],t,c,s,i);const g=new Array(e.length),$=new Map;for(d=t.length-1,h=e.length-1;d>=c&&h>=c&&(t[d]===e[h]||i&&t[c]&&e[c]&&t[d][i]===e[h][i]);d--,h--)g[h]=t[d];if(c>h||c>d){for(f=c;f<=h;f++)a(t,f,e[f]);for(;f<e.length;f++)a(t,f,g[f]),P(e[f],t,f,s,i);t.length>e.length&&a(t,"length",e.length);return}for(v=new Array(h+1),f=h;f>=c;f--)y=e[f],S=i&&y?y[i]:y,r=$.get(S),v[f]=r===void 0?-1:r,$.set(S,f);for(r=c;r<=d;r++)y=t[r],S=i&&y?y[i]:y,f=$.get(S),f!==void 0&&f!==-1&&(g[f]=t[r],f=v[f],$.set(S,f));for(f=c;f<e.length;f++)f in g?(a(t,f,g[f]),P(e[f],t,f,s,i)):a(t,f,e[f])}else for(let r=0,f=e.length;r<f;r++)P(e[r],t,r,s,i);t.length>e.length&&a(t,"length",e.length);return}const o=Object.keys(e);for(let r=0,f=o.length;r<f;r++)P(e[o[r]],t,o[r],s,i);const u=Object.keys(t);for(let r=0,f=u.length;r<f;r++)e[u[r]]===void 0&&a(t,u[r],void 0)}function ne(e,n={}){const{merge:l,key:s="id"}=n,i=w(e);return t=>{if(!b(t)||!b(i))return i;const o=P(i,{[N]:t},N,l,s);return o===void 0?t:o}}function V(e){let n=e.get(),[l,s]=te(n),i=e.subscribe(s);return B(()=>i()),l}function te(e){let[n,l]=ee({value:e});return[()=>n.value,s=>{let i=w(n.value);return typeof s=="function"&&(s=s(i)),l("value",ne(s)),n.value}]}const ie=E(!1),T=E(),se=F(T,"setPlaying",(e,n)=>{T.set(n)}),oe=V(T),L=E("stopped"),fe=F(L,"setAudioStreamState",(e,n)=>{L.set(n)}),re=V(L);export{re as a,fe as b,E as c,oe as p,se as s,ie as v};
